# Come kanban

## Описание проекта

Веб‑приложение в стиле Trello для управления задачами с расширенной CRM‑функциональностью. Позволяет:
* создавать доски и управлять доступом к ним;
* организовывать работу через колонки (статусы задач);
* вести карточки задач с детальной информацией;
* добавлять комментарии к карточкам;
* хранить данные клиентов (телефон, email, предпочтения и др.) внутри карточек.
  
**Целевая аудитория:** команды, которым нужен инструмент для:
* визуального управления задачами (канбан);
* ведения клиентских заявок (CRM‑подобные поля);
* разграничения прав (менеджер / руководитель).
  
## Стек используемых технологий

* **Backend**: Python 3.11+, FastAPI
* **Базы данных**: PostgreSQL
* **ORM**: SQLAlchemy 2.0
* **Миграции**: Alembic
* **Аутентификация**: JWT (python-jose) + хеширование паролей (passlib[bcrypt])
* **Валидация данных**: Pydantic (встроено в FastAPI)
* **Сервер**: Uvicorn
* **Контейнеризация**: Docker Compose
* **Управление зависимостями**: pip / poetry
* **Окружение**: виртуальное окружение Python

## Инструкция по запуску

1.  **Клонирование репозитория**:
    ```bash
    git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
    cd kanban-crm
    ```

2.  **Подготовка окружения**:
   
    a) Создайте виртуальное окружение:
    ```bash
    python -m venv venv
    source venv/bin/activate  # Linux/MacOS
    # или
    venv\Scripts\activate  # Windows
    ```

    б) Установите зависимости:
     ```bash
    pip install -r requirements.txt
    ```
     
3.  **Настройка переменных окружения**:
    Создайте файл `.env` из шаблона:
    ```bash
    cp .env.example .env
    ```
    Затем откройте `.env` и заполните его согласно документации ниже.
    * DATABASE_URL — URL подключения к PostgreSQL (например, postgresql+psycopg://user:password@db:5432/kanban);
    * SECRET_KEY — секретный ключ для JWT (сгенерируйте случайную строку);
    * ALGORITHM — алгоритм JWT (например, HS256);
    * ACCESS_TOKEN_EXPIRE_MINUTES — время жизни токена (например, 30).
    
4.  **Запуск базы данных (Docker Compose)**
    Убедитесь, что Docker и Docker Compose установлены.
    Запустите PostgreSQL:
     ```bash
      docker-compose up -d
     ```
    Проверьте, что контейнер db запущен:
    ```bash
    docker ps
    ```
    
5.  **Настройка базы данных**:
    a) Создайте миграции Alembic:
    ```bash 
      alembic revision --autogenerate -m "initial"
    ```
    b) Примените миграции:
    ```bash
     alembic upgrade head
    ```
    
6.  **Запуск сервера**:
    ```bash   
      uvicorn app.main:app --reload
     ```
