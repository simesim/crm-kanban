\# CRM Kanban API

RESTful API –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ –≤ —Å—Ç–∏–ª–µ Kanban —Å —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª—å—é –¥–æ—Å—Ç—É–ø–∞.

\## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

\`\`\`bash

\# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

git clone &lt;repository-url&gt;

cd server

\# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

npm install

\# –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

docker-compose up -d

\# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

cp .env.example .env

\# –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

npx prisma migrate dev --name init

\# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

npm run dev

**üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø–∞–ø–∫–µ¬†docs/:

- [API –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã](https://docs/API.md)
- [–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](https://docs/SCENARIOS.md)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](https://docs/SETUP.md)
- [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](https://docs/EXAMPLES.md)
- [–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](https://docs/AUTH.md)

**üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

- **Node.js**¬†+¬†**Express**¬†- –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **PostgreSQL**¬†- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Prisma**¬†- ORM
- **JWT**¬†- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Docker**¬†- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

**üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

text

server/

‚îú‚îÄ‚îÄ src/

‚îÇ ‚îú‚îÄ‚îÄ controllers/ # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

‚îÇ ‚îú‚îÄ‚îÄ services/ # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

‚îÇ ‚îú‚îÄ‚îÄ middlewares/ # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û

‚îÇ ‚îú‚îÄ‚îÄ routes/ # –ú–∞—Ä—à—Ä—É—Ç—ã

‚îÇ ‚îú‚îÄ‚îÄ db/ # –†–∞–±–æ—Ç–∞ —Å –ë–î

‚îÇ ‚îú‚îÄ‚îÄ utils/ # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

‚îÇ ‚îú‚îÄ‚îÄ constants/ # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

‚îÇ ‚îî‚îÄ‚îÄ app.js # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

‚îú‚îÄ‚îÄ prisma/ # –°—Ö–µ–º–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

‚îú‚îÄ‚îÄ docs/ # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

‚îú‚îÄ‚îÄ docker-compose.yml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

‚îî‚îÄ‚îÄ .env.example # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT-—Ç–æ–∫–µ–Ω—ã:

- **Access Token**¬†- 15 –º–∏–Ω—É—Ç, –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization
- **Refresh Token**¬†- 30 –¥–Ω–µ–π, –≤ HTTP-only cookie

**–†–æ–ª–∏:**

- **LEAD**¬†- –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ—Å–∫–∏ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **MANAGER**¬†- –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–æ—Å–∫–∞–º–∏

**üì° –û—Å–Ω–æ–≤–Ω—ã–µ endpoint'—ã**

text

POST /api/v1/auth/register # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

POST /api/v1/auth/login # –í—Ö–æ–¥

POST /api/v1/auth/refresh # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

POST /api/v1/auth/logout # –í—ã—Ö–æ–¥

GET /api/v1/boards # –°–ø–∏—Å–æ–∫ –¥–æ—Å–æ–∫

POST /api/v1/boards # –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å–∫–∏ (LEAD)

GET /api/v1/boards/{id} # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å–∫–µ

POST /api/v1/boards/{id}/members # –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ (LEAD)

**üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**

bash

_\# LEAD –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_

curl -X POST http://localhost:3000/api/v1/auth/register \\

\-H "Content-Type: application/json" \\

\-d '{"email":"lead@test.com","password":"lead123","role":"LEAD"}'

_\# MANAGER –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_

curl -X POST http://localhost:3000/api/v1/auth/register \\

\-H "Content-Type: application/json" \\

\-d '{"email":"manager@test.com","password":"manager123","role":"MANAGER"}'

**üìù –õ–∏—Ü–µ–Ω–∑–∏—è**

MIT

text

\---

\## üéØ \*\*–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:\*\*

\### 1. \*\*–î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç:\*\*

\`\`\`bash

mkdir docs

\# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É docs/

**2.¬†–û–±–Ω–æ–≤–∏—Ç–µ package.json:**

json

{

"scripts": {

"docs:open": "open docs/README.md",

"docs:api": "echo 'API docs at docs/API.md'"

}

}

**3.¬†–î–ª—è –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Å¬†README.md
- API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤¬†docs/API.md
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≤¬†docs/EXAMPLES.md
- –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤¬†docs/SCENARIOS.md

**4.¬†–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:**

- **Postman:**¬†–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ¬†docs/EXAMPLES.md¬†–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- **Swagger/OpenAPI:**¬†–ú–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å¬†docs/API.md¬†–≤ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
- **GitBook/ReadTheDocs:**¬†–ú–æ–∂–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

**5.¬†–î–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**

1.  –ü—Ä–æ—á–∏—Ç–∞—Ç—å¬†README.md
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ¬†docs/SETUP.md
3.  –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ¬†docs/SCENARIOS.md
4.  –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ¬†docs/API.md